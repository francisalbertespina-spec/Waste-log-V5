<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>HDJV Waste Management System (WMS)</title>
  <link rel="icon" type="image/png" href="logo.png">
  <link href="style.css" rel="stylesheet" type="text/css">
  <script src="https://accounts.google.com/gsi/client" async defer></script>
</head>
<body>
<div class="app-container">

  <!-- â•â•â• HEADER â•â•â• -->
  <div class="header">
    <img src="logo.png" alt="Logo" class="logo" onerror="this.style.display='none'">
    <h1>Waste Management System (WMS)</h1>
    <p>HDJV Environmental Management</p>

    <div id="user-info" class="user-info" style="display:none;">
      <div class="user-badge-row">
        <div class="user-badge">
          <span id="user-name"></span>
          <span id="user-role-badge" class="role-badge"></span>
        </div>
        <!-- Notification bell: only visible to admins via CSS -->
        <button id="notif-bell" class="notif-bell admin-only notif-off" onclick="onBellClick()" title="Notifications">
          ğŸ””
          <span id="notif-badge" class="notif-badge" style="display:none;">0</span>
        </button>
      </div>

      <!-- Admin mode toggle -->
      <div id="mode-toggle" class="mode-toggle admin-only" style="display:none;">
        <span class="mode-label" id="mode-label-user">User</span>
        <label class="toggle-switch">
          <input type="checkbox" id="admin-mode-toggle" onchange="toggleAdminMode()">
          <span class="toggle-slider"></span>
        </label>
        <span class="mode-label" id="mode-label-admin">Admin</span>
      </div>
    </div>
  </div><!-- /header -->

  <div class="content">

    <!-- â•â•â• LOGIN â•â•â• -->
    <div id="login-section" class="section active">
      <h2 class="section-title">Welcome</h2>
      <p class="section-sub">Sign in with your authorized Google account to continue</p>
      <div id="loginWrapper">
        <div id="buttonDiv" style="display:flex;justify-content:center;"></div>
        <div id="loginLoadingUI" class="login-loading-ui">
          <div class="login-spinner"></div>
          <p>Signing you inâ€¦</p>
        </div>
      </div>
    </div>

    <!-- â•â•â• PACKAGE â•â•â• -->
    <div id="package-section" class="section">
      <h2 class="section-title">Select Package</h2>
      <p class="section-sub">Choose the package you want to work with</p>
      <div class="package-grid">
        <div class="package-card" onclick="selectPackage('P4',this)"><div class="icon">ğŸ“¦</div><div class="name">Package 4</div></div>
        <div class="package-card" onclick="selectPackage('P5',this)"><div class="icon">ğŸ“¦</div><div class="name">Package 5</div></div>
        <div class="package-card" onclick="selectPackage('P6',this)"><div class="icon">ğŸ“¦</div><div class="name">Package 6</div></div>
      </div>
      <button class="btn btn-primary" onclick="confirmPackage()">Continue</button>
      <button class="btn btn-secondary" onclick="showUserSettings()" style="margin-top:10px;">âš™ï¸ My Settings</button>
      <button class="btn btn-secondary" onclick="logout()" style="margin-top:10px;">Sign Out</button>
    </div>

    <!-- â•â•â• WASTE TYPE â•â•â• -->
    <div id="waste-type-section" class="section">
      <button class="back-btn" onclick="backToPackage()">â† Back to Packages</button>
      <div class="breadcrumb"><span class="breadcrumb-item" onclick="backToPackage()">Packages</span><span class="breadcrumb-sep">â€º</span><span class="breadcrumb-item active" id="waste-type-package"></span></div>
      <h2 class="section-title">Select Waste Type</h2>
      <div class="menu-grid">
        <div class="menu-btn" onclick="selectWasteType('hazardous')"><div class="icon">â˜¢ï¸</div><div class="text"><h3>Hazardous Waste</h3><p>Chemical, toxic, and hazardous materials</p></div><div class="arrow">â†’</div></div>
        <div class="menu-btn" onclick="selectWasteType('solid')"><div class="icon">ğŸ—‘ï¸</div><div class="text"><h3>Solid Waste</h3><p>Residual and scrap materials</p></div><div class="arrow">â†’</div></div>
      </div>
    </div>

    <!-- â•â•â• HAZARDOUS MENU â•â•â• -->
    <div id="hazardous-menu-section" class="section">
      <button class="back-btn" onclick="backToWasteType()">â† Back</button>
      <div class="breadcrumb"><span class="breadcrumb-item" onclick="backToPackage()">Packages</span><span class="breadcrumb-sep">â€º</span><span class="breadcrumb-item" onclick="backToWasteType()" id="hazardous-menu-package"></span><span class="breadcrumb-sep">â€º</span><span class="breadcrumb-item active">Hazardous</span></div>
      <h2 class="section-title">Hazardous Waste</h2>
      <div class="menu-grid">
        <div class="menu-btn" onclick="showLogForm('hazardous')"><div class="icon">âœï¸</div><div class="text"><h3>Log New Entry</h3><p>Record new waste disposal</p></div><div class="arrow">â†’</div></div>
        <div class="menu-btn" onclick="showHistoryView('hazardous')"><div class="icon">ğŸ“Š</div><div class="text"><h3>View Records</h3><p>Browse & export entries</p></div><div class="arrow">â†’</div></div>
      </div>
    </div>

    <!-- â•â•â• SOLID MENU â•â•â• -->
    <div id="solid-menu-section" class="section">
      <button class="back-btn" onclick="backToWasteType()">â† Back</button>
      <div class="breadcrumb"><span class="breadcrumb-item" onclick="backToPackage()">Packages</span><span class="breadcrumb-sep">â€º</span><span class="breadcrumb-item" onclick="backToWasteType()" id="solid-menu-package"></span><span class="breadcrumb-sep">â€º</span><span class="breadcrumb-item active">Solid</span></div>
      <h2 class="section-title">Solid Waste</h2>
      <div class="menu-grid">
        <div class="menu-btn" onclick="showLogForm('solid')"><div class="icon">âœï¸</div><div class="text"><h3>Log New Entry</h3><p>Record new waste disposal</p></div><div class="arrow">â†’</div></div>
        <div class="menu-btn" onclick="showHistoryView('solid')"><div class="icon">ğŸ“Š</div><div class="text"><h3>View Records</h3><p>Browse & export entries</p></div><div class="arrow">â†’</div></div>
      </div>
    </div>

    <!-- â•â•â• HAZARDOUS FORM â•â•â• -->
    <div id="hazardous-form-section" class="section">
      <button class="back-btn" onclick="backToHazardousMenu()">â† Back</button>
      <div class="breadcrumb"><span class="breadcrumb-item" onclick="backToPackage()">Packages</span><span class="breadcrumb-sep">â€º</span><span class="breadcrumb-item" onclick="backToWasteType()" id="hazardous-form-package"></span><span class="breadcrumb-sep">â€º</span><span class="breadcrumb-item" onclick="backToHazardousMenu()">Hazardous</span><span class="breadcrumb-sep">â€º</span><span class="breadcrumb-item active">New Entry</span></div>
      <h2 class="section-title">New Hazardous Entry</h2>
      <div class="form-group" id="hazardous-date-group"><label>Date</label><input type="date" id="hazardous-date"><div class="error-msg">Please select a date</div></div>
      <div class="form-group" id="hazardous-volume-group"><label>Volume (kg)</label><input type="number" step="0.00001" id="hazardous-volume" placeholder="0.00000"><div class="error-msg">Please enter a volume</div></div>
      <div class="form-group" id="hazardous-waste-group">
        <label>Waste Name</label>
        <select id="hazardous-waste">
          <option value="">-- Select Waste Type --</option>
          <option value="Used Oil">Used Oil</option>
          <option value="Pathological and Infectious Waste">Pathological and Infectious Waste</option>
          <option value="Lead Compounds">Lead Compounds</option>
          <option value="Oil Contaminated Materials">Oil Contaminated Materials</option>
          <option value="Grease Waste">Grease Waste</option>
          <option value="Waste Electrical and Electronic Equipment">Waste Electrical and Electronic Equipment</option>
          <option value="Mercury and Mercury Compounds">Mercury and Mercury Compounds</option>
          <option value="Containers Previously containing toxic chemical substances">Containers Previously containing toxic chemical substances</option>
        </select>
        <div class="error-msg">Please select a waste type</div>
      </div>
      <div class="form-group" id="hazardous-photo-group">
        <label>Photo Proof</label>
        <div class="photo-upload" onclick="document.getElementById('hazardous-photo').click()">
          <input type="file" id="hazardous-photo" accept="image/*" capture="environment" onchange="previewImage(event,'hazardous')">
          <div class="placeholder"><div class="icon">ğŸ“·</div><p><strong>Tap to capture photo</strong></p><p style="font-size:.85rem;color:#999;margin-top:5px;">Required for verification</p></div>
        </div>
        <div class="error-msg">Please upload a photo</div>
      </div>
      <div class="btn-group"><button id="hazardous-submitBtn" class="btn btn-primary" onclick="addEntry('hazardous')">Submit Entry</button></div>
    </div>

    <!-- â•â•â• SOLID FORM â•â•â• -->
    <div id="solid-form-section" class="section">
      <button class="back-btn" onclick="backToSolidMenu()">â† Back</button>
      <div class="breadcrumb"><span class="breadcrumb-item" onclick="backToPackage()">Packages</span><span class="breadcrumb-sep">â€º</span><span class="breadcrumb-item" onclick="backToWasteType()" id="solid-form-package"></span><span class="breadcrumb-sep">â€º</span><span class="breadcrumb-item" onclick="backToSolidMenu()">Solid</span><span class="breadcrumb-sep">â€º</span><span class="breadcrumb-item active">New Entry</span></div>
      <h2 class="section-title">New Solid Entry</h2>
      <div class="form-group" id="solid-date-group"><label>Date</label><input type="date" id="solid-date"><div class="error-msg">Please select a date</div></div>
      <div class="form-group" id="solid-location-group">
        <label>Location (Pier Number)</label>
        <div style="display:flex;align-items:center;gap:10px;"><span style="font-size:1.1rem;font-weight:600;color:#555;">P-</span><input type="number" id="solid-location" placeholder="462" min="462" max="1260" style="flex:1;"></div>
        <div class="error-msg">Please enter a pier number (462â€“1260)</div>
      </div>
      <div class="form-group" id="solid-waste-group"><label>Waste Name</label><select id="solid-waste"><option value="">-- Select Waste Type --</option><option value="Residual">Residual</option><option value="Scrap">Scrap</option></select><div class="error-msg">Please select a waste type</div></div>
      <div class="form-group" id="solid-photo-group">
        <label>Photo Proof</label>
        <div class="photo-upload" onclick="document.getElementById('solid-photo').click()">
          <input type="file" id="solid-photo" accept="image/*" capture="environment" onchange="previewImage(event,'solid')">
          <div class="placeholder"><div class="icon">ğŸ“·</div><p><strong>Tap to capture photo</strong></p><p style="font-size:.85rem;color:#999;margin-top:5px;">Required for verification</p></div>
        </div>
        <div class="error-msg">Please upload a photo</div>
      </div>
      <div class="btn-group"><button id="solid-submitBtn" class="btn btn-primary" onclick="addEntry('solid')">Submit Entry</button></div>
    </div>

    <!-- â•â•â• HAZARDOUS HISTORY â•â•â• -->
    <div id="hazardous-history-section" class="section">
      <button class="back-btn" onclick="backToHazardousMenu()">â† Back</button>
      <div class="breadcrumb"><span class="breadcrumb-item" onclick="backToPackage()">Packages</span><span class="breadcrumb-sep">â€º</span><span class="breadcrumb-item" onclick="backToWasteType()" id="hazardous-history-package"></span><span class="breadcrumb-sep">â€º</span><span class="breadcrumb-item" onclick="backToHazardousMenu()">Hazardous</span><span class="breadcrumb-sep">â€º</span><span class="breadcrumb-item active">Records</span></div>
      <h2 class="section-title">Hazardous Records</h2>

      <!-- Filters -->
      <div class="filter-bar">
        <div class="filter-col"><label>From</label><input type="date" id="hazardous-fromDate"></div>
        <div class="filter-col"><label>To</label><input type="date" id="hazardous-toDate"></div>
        <div class="filter-col filter-col-full">
          <label>Waste Type Filter</label>
          <select id="hazardous-filter-waste">
            <option value="">All Types</option>
            <option value="Used Oil">Used Oil</option>
            <option value="Pathological">Pathological</option>
            <option value="Lead Compounds">Lead Compounds</option>
            <option value="Oil Contaminated">Oil Contaminated</option>
            <option value="Grease Waste">Grease Waste</option>
            <option value="Waste Electrical">WEEE</option>
            <option value="Mercury">Mercury</option>
            <option value="Containers">Containers</option>
          </select>
        </div>
      </div>
      <div class="history-actions">
        <button class="btn btn-primary" onclick="loadHistory('hazardous')">Load Entries</button>
        <button id="hazardous-exportBtn" class="btn btn-secondary" onclick="exportExcel('hazardous')" disabled>Export Excel</button>
        <button id="hazardous-pdfBtn" class="btn btn-secondary" onclick="generatePDFReport('hazardous')" disabled>ğŸ“„ PDF</button>
      </div>
      <div id="hazardous-loading" style="display:none;"><div class="spinner"></div><p style="text-align:center;color:#666;">Loadingâ€¦</p></div>
      <div class="table-wrapper" id="hazardous-table-container" style="display:none;">
        <table><thead><tr><th>Date</th><th>kg</th><th>Waste</th><th>User</th><th>Photo</th></tr></thead><tbody id="hazardous-table-body"></tbody></table>
      </div>
      <div id="hazardous-empty-state" class="empty-state"><div class="icon">ğŸ“‹</div><p><strong>No records</strong></p><p style="font-size:.9rem;">Select a date range and click Load</p></div>
    </div>

    <!-- â•â•â• SOLID HISTORY â•â•â• -->
    <div id="solid-history-section" class="section">
      <button class="back-btn" onclick="backToSolidMenu()">â† Back</button>
      <div class="breadcrumb"><span class="breadcrumb-item" onclick="backToPackage()">Packages</span><span class="breadcrumb-sep">â€º</span><span class="breadcrumb-item" onclick="backToWasteType()" id="solid-history-package"></span><span class="breadcrumb-sep">â€º</span><span class="breadcrumb-item" onclick="backToSolidMenu()">Solid</span><span class="breadcrumb-sep">â€º</span><span class="breadcrumb-item active">Records</span></div>
      <h2 class="section-title">Solid Records</h2>

      <!-- Filters -->
      <div class="filter-bar">
        <div class="filter-col"><label>From</label><input type="date" id="solid-fromDate"></div>
        <div class="filter-col"><label>To</label><input type="date" id="solid-toDate"></div>
        <div class="filter-col filter-col-full">
          <label>Waste Type Filter</label>
          <select id="solid-filter-waste"><option value="">All Types</option><option value="Residual">Residual</option><option value="Scrap">Scrap</option></select>
        </div>
      </div>
      <div class="history-actions">
        <button class="btn btn-primary" onclick="loadHistory('solid')">Load Entries</button>
        <button id="solid-exportBtn" class="btn btn-secondary" onclick="exportExcel('solid')" disabled>Export Excel</button>
        <button id="solid-pdfBtn" class="btn btn-secondary" onclick="generatePDFReport('solid')" disabled>ğŸ“„ PDF</button>
      </div>
      <div id="solid-loading" style="display:none;"><div class="spinner"></div><p style="text-align:center;color:#666;">Loadingâ€¦</p></div>
      <div class="table-wrapper" id="solid-table-container" style="display:none;">
        <table><thead><tr><th>Date</th><th>Location</th><th>Waste</th><th>User</th><th>Photo</th></tr></thead><tbody id="solid-table-body"></tbody></table>
      </div>
      <div id="solid-empty-state" class="empty-state"><div class="icon">ğŸ“‹</div><p><strong>No records</strong></p><p style="font-size:.9rem;">Select a date range and click Load</p></div>
    </div>

    <!-- â•â•â• USER SETTINGS â•â•â• -->
    <div id="user-settings-section" class="section">
      <button class="back-btn" onclick="showSection('package-section')">â† Back</button>
      <h2 class="section-title">âš™ï¸ My Settings</h2>
      <p class="section-sub">Account info and preferences</p>

      <div class="settings-card">
        <div class="settings-card-title">ğŸ‘¤ Account</div>
        <div class="settings-row"><span class="settings-label">Email</span><span class="settings-value" id="settings-email">â€”</span></div>
        <div class="settings-row"><span class="settings-label">Role</span><span class="settings-value" id="settings-role">â€”</span></div>
        <div class="settings-row"><span class="settings-label">Session expires</span><span class="settings-value" id="settings-session">â€”</span></div>
        <div class="settings-row"><span class="settings-label">Submissions (24h)</span><span class="settings-value" id="settings-submissions">0</span></div>
      </div>

      <div class="settings-card">
        <div class="settings-card-title">ğŸ”” Notifications</div>
        <div class="settings-row">
          <span class="settings-label">Push status</span>
          <span class="settings-value" id="settings-notif-status">âšª Not enabled</span>
        </div>
        <div class="notif-actions">
          <button id="settings-notif-btn" class="btn btn-secondary settings-btn" onclick="requestNotificationPermission()">ğŸ”” Enable</button>
          <button class="btn btn-secondary settings-btn" onclick="sendTestNotification()">ğŸ§ª Test</button>
        </div>
      </div>

      <div class="settings-card">
        <div class="settings-card-title">ğŸ›ï¸ Preferences</div>
        <div class="settings-row settings-row-stacked"><span class="settings-label">Default Package</span>
          <select id="pref-default-package" class="settings-select"><option value="">None</option><option value="P4">Package 4</option><option value="P5">Package 5</option><option value="P6">Package 6</option></select>
        </div>
        <div class="settings-row settings-row-stacked"><span class="settings-label">App Theme</span>
          <select id="pref-theme" class="settings-select"><option value="default">Default (Light)</option><option value="dark">Dark Mode</option><option value="compact">Compact</option></select>
        </div>
      </div>

      <div class="settings-card settings-card-danger">
        <div class="settings-card-title">âš ï¸ Data</div>
        <p style="font-size:.85rem;color:#888;margin-bottom:14px;">Clears local submission history only. Server data is not affected.</p>
        <button class="btn btn-secondary settings-btn" onclick="clearSessionHistory()">Clear Local History</button>
      </div>

      <button class="btn btn-primary" onclick="saveUserSettings()" style="margin-top:6px;">ğŸ’¾ Save Settings</button>
      <button class="btn btn-secondary" onclick="logout()" style="margin-top:10px;">Sign Out</button>
    </div>

    <!-- â•â•â• ADMIN DASHBOARD â•â•â• -->
    <div id="admin-dashboard" class="section admin-only">
      <div class="admin-dash-header">
        <h2>ğŸ›¡ï¸ Admin Dashboard</h2>
        <p>Manage users and monitor system activity</p>
      </div>
      <div class="admin-menu-grid">
        <div class="admin-menu-card" onclick="showUserManagement()">
          <div class="admin-menu-icon">ğŸ‘¥</div><h3>User Management</h3><p>Approve or reject access</p><div class="arrow">â†’</div>
        </div>
        <div class="admin-menu-card" onclick="showAnalytics()">
          <div class="admin-menu-icon">ğŸ“Š</div><h3>Analytics</h3><p>Trends and waste insights</p><div class="arrow">â†’</div>
        </div>
        <div class="admin-menu-card" onclick="showRequestLogs()">
          <div class="admin-menu-icon">ğŸ“</div><h3>Request Logs</h3><p>System activity</p><div class="arrow">â†’</div>
        </div>
      </div>
    </div>

    <!-- â•â•â• ANALYTICS (admin-only) â•â•â• -->
    <div id="analytics-section" class="section admin-only">
      <button class="back-btn" onclick="backToAdminDashboard()">â† Admin Dashboard</button>
      <div class="breadcrumb"><span class="breadcrumb-item" onclick="backToAdminDashboard()">Admin</span><span class="breadcrumb-sep">â€º</span><span class="breadcrumb-item active">Analytics</span></div>
      <h2 class="section-title">ğŸ“Š Waste Analytics</h2>

      <div class="analytics-filters">
        <div class="filter-col"><label>Package</label><select id="analytics-package" class="analytics-select"><option value="P4">Package 4</option><option value="P5">Package 5</option><option value="P6">Package 6</option></select></div>
        <div class="filter-col"><label>Waste Type</label><select id="analytics-waste-type" class="analytics-select"><option value="hazardous">Hazardous</option><option value="solid">Solid</option></select></div>
        <div class="filter-col"><label>Filter By</label><select id="analytics-filter-mode" class="analytics-select" onchange="toggleAnalyticsFilterMode()"><option value="period">Period</option><option value="range">Date Range</option></select></div>
        <div class="filter-col" id="analytics-period-col"><label>Period</label><select id="analytics-period" class="analytics-select"><option value="7">Past 7 days</option><option value="30" selected>Past 30 days</option><option value="60">Past 60 days</option><option value="90">Past 90 days</option></select></div>
        <div class="filter-col" id="analytics-range-col" style="display:none;"><label>From</label><input type="date" id="analytics-from" class="analytics-select"></div>
        <div class="filter-col" id="analytics-range-col-to" style="display:none;"><label>To</label><input type="date" id="analytics-to" class="analytics-select"></div>
        <div style="grid-column:1/-1;display:flex;gap:10px;flex-wrap:wrap;">
          <button class="btn btn-primary" onclick="loadAnalytics()" style="height:42px;flex:1;min-width:120px;">Apply Filters</button>
          <button class="btn" id="analytics-pdf-btn" onclick="generateAnalyticsPDF()" style="height:42px;flex:1;min-width:120px;background:#fff;border:1.5px solid #d32f2f;color:#d32f2f;font-weight:600;" disabled>ğŸ“„ Export PDF</button>
        </div>
      </div>

      <div id="analytics-loading" style="display:none;flex-direction:column;align-items:center;padding:40px 0;">
        <div class="spinner"></div><p style="color:#666;margin-top:10px;">Loading analyticsâ€¦</p>
      </div>

      <div id="analytics-content" style="display:none;">
        <div id="analytics-no-data" class="empty-state" style="display:none;"><div class="icon">ğŸ“­</div><p><strong>No data for this period</strong></p></div>
        <div id="analytics-charts" style="display:none;">
          <!-- KPIs -->
          <div class="kpi-grid">
            <div class="kpi-card"><div class="kpi-label">Total Entries</div><div class="kpi-value" id="kpi-entries">â€”</div></div>
            <div class="kpi-card"><div class="kpi-label">Total Volume</div><div class="kpi-value" id="kpi-volume">â€”</div></div>
            <div class="kpi-card"><div class="kpi-label">Top Waste</div><div class="kpi-value kpi-sm" id="kpi-top-waste">â€”</div></div>
            <div class="kpi-card"><div class="kpi-label">Avg / Day</div><div class="kpi-value" id="kpi-avg-day">â€”</div></div>
          </div>
          <!-- Trend -->
          <div class="chart-card">
            <div class="chart-card-title">ğŸ“ˆ Daily Trend</div>
            <div class="chart-wrap"><canvas id="analytics-trend-chart"></canvas></div>
          </div>
          <!-- Breakdown -->
          <div class="chart-card">
            <div class="chart-card-title">ğŸ“Š Waste Breakdown</div>
            <div class="chart-wrap" style="height:200px;"><canvas id="analytics-breakdown-chart"></canvas></div>
          </div>
          <!-- Contributors -->
          <div class="chart-card">
            <div class="chart-card-title">ğŸ‘¥ Top Contributors</div>
            <div id="analytics-contributors"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- â•â•â• USER MANAGEMENT â•â•â• -->
    <div id="user-management-section" class="section admin-only">
      <button class="back-btn" onclick="backToAdminDashboard()">â† Admin Dashboard</button>
      <div class="breadcrumb"><span class="breadcrumb-item" onclick="backToAdminDashboard()">Admin</span><span class="breadcrumb-sep">â€º</span><span class="breadcrumb-item active">Users</span></div>
      <div class="admin-card">
        <div class="admin-header"><h2>ğŸ‘¥ User Management</h2><p>Approve or reject access requests</p></div>
        <div class="admin-block">
          <div class="admin-block-header"><h3>All Users</h3><button class="btn btn-sm" onclick="loadUsers()">Refresh</button></div>
          <div class="admin-table-wrap">
            <table class="admin-table">
              <thead><tr><th>Email</th><th>Status</th><th>Role</th><th>Action</th></tr></thead>
              <tbody id="usersTableBody"></tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <!-- â•â•â• REQUEST LOGS â•â•â• -->
    <div id="request-logs-section" class="section admin-only">
      <button class="back-btn" onclick="backToAdminDashboard()">â† Admin Dashboard</button>
      <div class="breadcrumb"><span class="breadcrumb-item" onclick="backToAdminDashboard()">Admin</span><span class="breadcrumb-sep">â€º</span><span class="breadcrumb-item active">Logs</span></div>
      <div class="admin-card">
        <div class="admin-header"><h2>ğŸ“ Request Logs</h2><p>System activity history</p></div>
        <div class="admin-block">
          <div class="admin-block-header"><h3>Recent Requests</h3><button class="btn btn-sm" onclick="loadRequests()">Refresh</button></div>
          <table class="admin-table"><thead><tr><th>Request ID</th><th>Time</th></tr></thead><tbody id="requestsTableBody"></tbody></table>
        </div>
      </div>
    </div>

  </div><!-- /content -->

  <div class="footer">Created by <strong>E. Francis Albert</strong></div>
</div><!-- /app-container -->

<!-- Image modal -->
<div id="imageModal" class="image-modal" onclick="closeImageModal()">
  <img id="modalImage" alt="Preview" onclick="event.stopPropagation()">
</div>

<script src="https://cdn.jsdelivr.net/npm/xlsx/dist/xlsx.full.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="script.js"></script>
</body>
</html>
